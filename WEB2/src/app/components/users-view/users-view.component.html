
    <table class="user-div" >
       <thead>
           <tr>
               <th colspan="1">
                   {{TableName}}
               </th>
               <th>
                   Username
               </th>
               <th>
                   Name
               </th>
               <th>
                   Last Name
               </th>
               <th>
                   &nbsp;
               </th>
           </tr>
       </thead>
       <tbody>
           <tr  *ngFor="let user of Users">
                <td>
                    <img class= "account-img" src="assets/account_stock.png"/>
                </td>
                <td>
                    {{user.Username}}
                </td>
                <td>
                    {{user.Name}}
                </td>
                <td>
                    {{user.LastName}}
                </td>
                <td>
                    <div *ngIf="CurrentUser != null">
                        <div *ngIf= "DetermineRelationship(user.Username,'friends');else notfriendsBlock">
                            <button (click) = "HandleRequests(user.Username, 'Unfriend')">
                                Unfriend
                            </button>
                        </div>
                        <ng-template #notfriendsBlock>
                            <div *ngIf = "DetermineRelationship(user.Username,'hasTheirRequest'); else doesntHaveIt">
                                <button (click) = "HandleRequests(user.Username,'Accept')">
                                    Accept request
                                </button>
                                <button (click) = "HandleRequests(user.Username,'Decline')">
                                    Deny request
                                </button>
                            </div>
                            <ng-template #doesntHaveIt>
                                <div *ngIf = "DetermineRelationship(user.Username,'didTheySend'); else didntsend">
                                    <button>
                                        Friend request sent
                                    </button>
                                </div>
                            <ng-template #didntsend>
                                <button (click) = "HandleRequests(user.Username,'Send')">
                                    Send request
                                </button>
                            </ng-template>
                            </ng-template>
                        </ng-template>
                        
                    </div>
                </td>
           </tr>
           
           
           
           
       </tbody>
    </table>

